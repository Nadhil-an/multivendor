{% load static %}
{% include 'v_base.html' %}

<body>

<div class="main-container">
    <div class="dashboard-container">

        <!-- Sidebar -->
        {% include 'includes/v_sidebar.html' %}

        <!-- Main Content -->
        <div class="content">

            <!-- Top Bar -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="fw-bold mb-0">Opening Hours</h3>
                <a href="{% url 'home' %}" class="text-decoration-none fw-semibold">
                    Back to Home
                </a>
            </div>


            <!-- Main Card -->
            <div class="card p-4 shadow-sm mx-auto" style="max-width: 900px;">

                <h5 class="fw-bold text-center mb-3">Manage Opening Hours</h5>
                <hr>

                <!-- Opening Hours Table -->
                <div class="table-responsive">
                    <table class="table table-bordered table-hover text-center align-middle shadow-sm">

                        <thead class="table-light">
                            <tr>
                                <th class="py-3 fw-bold text-secondary text-uppercase">Day</th>
                                <th class="py-3 fw-bold text-secondary text-uppercase">Hours</th>
                                <th class="py-3 fw-bold text-secondary text-uppercase">Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for hour in opening_hours %}
                            <tr id="hour-{{ hour.id }}">
                                <td class="fw-semibold">{{ hour }}</td>

                                <td>
                                    {% if hour.is_closed %}
                                        <span class="badge bg-danger p-2">Closed</span>
                                    {% else %}
                                        <span class="fw-semibold">{{ hour.from_hour }} â€“ {{ hour.to_hour }}</span>
                                    {% endif %}
                                </td>

                                <td>
                                    <a href="#" class="text-danger fw-semibold remove_hour"
                                       data-url="{% url 'removing_opening_hour' hour.id %}">
                                        Remove
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>

                    </table>
                </div>

                <!-- Add Hours Form -->
                <form id="opening_hours" class="mt-4">
                    {% csrf_token %}

                    <div class="row g-3">

                        <div class="col-md-3">
                            <label class="fw-semibold">Day</label>
                            {{ form.day }}
                        </div>

                        <div class="col-md-2">
                            <label class="fw-semibold">From</label>
                            {{ form.from_hour }}
                        </div>

                        <div class="col-md-2">
                            <label class="fw-semibold">To</label>
                            {{ form.to_hour }}
                        </div>

                        <div class="col-md-3">
                            <label class="fw-semibold">Closed?</label> <br>
                            {{ form.is_closed }}
                            <span class="ms-1">Set as Closed</span>
                        </div>

                        <div class="col-md-2 d-flex align-items-end">
                            <button class="btn btn-success w-100 add_hour"
                                    data-url="{% url 'add_hour' %}">
                                Add
                            </button>
                        </div>

                    </div>
                </form>

            </div><!-- End Card -->

        </div><!-- End Content -->

    </div><!-- End Dashboard Container -->
</div><!-- End Main Container -->

</body>
</html>
